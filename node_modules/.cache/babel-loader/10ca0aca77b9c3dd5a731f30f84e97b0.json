{"ast":null,"code":"import _asyncToGenerator from\"E:/ForumProject/freyssupport/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/ForumProject/freyssupport/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\ForumProject\\\\freyssupport\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect}from\"react\";import{UserContext}from\"../../../context/UserContext\";import{useContext,useState}from\"react\";import{db}from\"../../../firebase-config\";import{doc,getDoc}from\"firebase/firestore\";import NavBar from\"../../../components/NavBar\";import{useNavigate}from\"react-router-dom\";import\"../../html/My_account/assets/css/HighlightClean.css\";import Footer from\"../../html/footer/footer/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AccountHome(){var _useContext=useContext(UserContext),currentUser=_useContext.currentUser;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),infoPerso=_useState2[0],setInfoPerso=_useState2[1];var navigate=useNavigate();var readResult=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var docRef,docSnap,_docRef,_docSnap,_docRef2,_docSnap2,_docRef3,_docSnap3;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:docRef=doc(db,\"users\",currentUser.email);_context.next=3;return getDoc(docRef);case 3:docSnap=_context.sent;if(!(docSnap.data().classe===\"Seconde\")){_context.next=12;break;}_docRef=doc(db,\"users\",currentUser.email);_context.next=8;return getDoc(_docRef);case 8:_docSnap=_context.sent;setInfoPerso({mail:_docSnap.data().mail,surName:_docSnap.data().surName,name:_docSnap.data().name,classe:_docSnap.data().classe});_context.next=26;break;case 12:if(!(docSnap.data().classe===\"Premiere\")){_context.next=20;break;}_docRef2=doc(db,\"users\",currentUser.email);_context.next=16;return getDoc(_docRef2);case 16:_docSnap2=_context.sent;setInfoPerso({mail:_docSnap2.data().mail,surName:_docSnap2.data().surName,name:_docSnap2.data().name,classe:_docSnap2.data().classe,option1:_docSnap2.data().option1,option2:_docSnap2.data().option2,option3:_docSnap2.data().option3});_context.next=26;break;case 20:if(!(docSnap.data().classe===\"Terminale\")){_context.next=26;break;}_docRef3=doc(db,\"users\",currentUser.email);_context.next=24;return getDoc(_docRef3);case 24:_docSnap3=_context.sent;setInfoPerso({mail:_docSnap3.data().mail,surName:_docSnap3.data().surName,name:_docSnap3.data().name,classe:_docSnap3.data().classe,option1:_docSnap3.data().option1,option2:_docSnap3.data().option2});case 26:case\"end\":return _context.stop();}}},_callee);}));return function readResult(){return _ref.apply(this,arguments);};}();useEffect(function(){readResult();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"var(--bs-body-bg)\",marginLeft:\"0px\"},children:/*#__PURE__*/_jsxs(\"section\",{className:\"highlight-clean\",style:{background:\"rgb(33,88,116)\",height:\"588.188px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"intro\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",style:{color:\"var(--bs-body-bg)\"},children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"em\",{children:\"My account\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"buttons\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{borderColor:\"var(--bs-dark)\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-lg-6 offset-lg-0\",style:{border:\"1px solid var(--bs-body-bg)\"},children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",style:{color:\"var(--bs-body-bg)\"},children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"em\",{children:\"Informations confidentielles\"})})}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"var(--bs-body-bg)\"},children:[\"Nom : \",infoPerso.name]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"var(--bs-body-bg)\"},children:[\"Prenom : \",infoPerso.surName]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"var(--bs-body-bg)\"},children:[\"Classe : \",infoPerso.classe]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"var(--bs-body-bg)\"},children:[infoPerso.classe===\"Seconde\"?\"\":\"Vos options : \",\" \",infoPerso.option1,\" \",infoPerso.classe===\"Seconde\"?\"\":\", \",\" \",infoPerso.option2,\" \",infoPerso.classe===\"Premiere\"?\", \":\"\",\" \",infoPerso.option3]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",style:{border:\"1px solid var(--bs-body-bg)\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",style:{color:\"var(--bs-body-bg)\"},children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"em\",{children:\"Informations publiques\"})})}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"var(--bs-body-bg)\"},children:\"Votre mail pourra \\xEAtre affich\\xE9 lors de recherche d'aide\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"var(--bs-body-bg)\"},children:[\"Votre mail : \",infoPerso.mail]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-primary\",role:\"button\",style:{marginTop:\"96px\",background:\"var(--bs-light)\",color:\"var(--bs-body-color)\"},onClick:function onClick(){navigate(\"/private/account/modify\");},children:\"Modifier\"})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["E:/ForumProject/freyssupport/src/pages/Private/AccountHome/AccountHome.js"],"names":["React","useEffect","UserContext","useContext","useState","db","doc","getDoc","NavBar","useNavigate","Footer","AccountHome","currentUser","infoPerso","setInfoPerso","navigate","readResult","docRef","email","docSnap","data","classe","mail","surName","name","option1","option2","option3","background","marginLeft","height","color","borderColor","border","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { UserContext } from \"../../../context/UserContext\";\r\nimport { useContext, useState } from \"react\";\r\nimport { db } from \"../../../firebase-config\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport NavBar from \"../../../components/NavBar\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../../html/My_account/assets/css/HighlightClean.css\";\r\nimport Footer from \"../../html/footer/footer/Footer\";\r\n\r\nexport default function AccountHome() {\r\n  const { currentUser } = useContext(UserContext);\r\n  let [infoPerso, setInfoPerso] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  const readResult = async () => {\r\n    const docRef = doc(db, \"users\", currentUser.email);\r\n    const docSnap = await getDoc(docRef);\r\n    //console.log(docSnap.data());\r\n    if (docSnap.data().classe === \"Seconde\") {\r\n      const docRef = doc(db, \"users\", currentUser.email);\r\n      const docSnap = await getDoc(docRef);\r\n      setInfoPerso({\r\n        mail: docSnap.data().mail,\r\n        surName: docSnap.data().surName,\r\n        name: docSnap.data().name,\r\n        classe: docSnap.data().classe,\r\n      });\r\n    } else if (docSnap.data().classe === \"Premiere\") {\r\n      const docRef = doc(db, \"users\", currentUser.email);\r\n      const docSnap = await getDoc(docRef);\r\n      setInfoPerso({\r\n        mail: docSnap.data().mail,\r\n        surName: docSnap.data().surName,\r\n        name: docSnap.data().name,\r\n        classe: docSnap.data().classe,\r\n        option1: docSnap.data().option1,\r\n        option2: docSnap.data().option2,\r\n        option3: docSnap.data().option3,\r\n      });\r\n    } else if (docSnap.data().classe === \"Terminale\") {\r\n      const docRef = doc(db, \"users\", currentUser.email);\r\n      const docSnap = await getDoc(docRef);\r\n      setInfoPerso({\r\n        mail: docSnap.data().mail,\r\n        surName: docSnap.data().surName,\r\n        name: docSnap.data().name,\r\n        classe: docSnap.data().classe,\r\n        option1: docSnap.data().option1,\r\n        option2: docSnap.data().option2,\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    readResult();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <div\r\n        style={{\r\n          background: \"var(--bs-body-bg)\",\r\n          marginLeft: \"0px\",\r\n        }}\r\n      >\r\n        <section\r\n          className=\"highlight-clean\"\r\n          style={{\r\n            background: \"rgb(33,88,116)\",\r\n            height: \"588.188px\",\r\n          }}\r\n        >\r\n          <div className=\"container\">\r\n            <div className=\"intro\">\r\n              <h1\r\n                className=\"text-center\"\r\n                style={{\r\n                  color: \"var(--bs-body-bg)\",\r\n                }}\r\n              >\r\n                <strong>\r\n                  <em>My account</em>\r\n                </strong>\r\n              </h1>\r\n            </div>\r\n            <div className=\"buttons\" />\r\n          </div>\r\n          <div className=\"container\">\r\n            <div\r\n              className=\"row\"\r\n              style={{\r\n                borderColor: \"var(--bs-dark)\",\r\n              }}\r\n            >\r\n              <div\r\n                className=\"col-md-6 col-lg-6 offset-lg-0\"\r\n                style={{\r\n                  border: \"1px solid var(--bs-body-bg)\",\r\n                }}\r\n              >\r\n                <div />\r\n                <p\r\n                  className=\"text-center\"\r\n                  style={{\r\n                    color: \"var(--bs-body-bg)\",\r\n                  }}\r\n                >\r\n                  <strong>\r\n                    <em>Informations confidentielles</em>\r\n                  </strong>\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    color: \"var(--bs-body-bg)\",\r\n                  }}\r\n                >\r\n                  Nom : {infoPerso.name}\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    color: \"var(--bs-body-bg)\",\r\n                  }}\r\n                >\r\n                  Prenom : {infoPerso.surName}\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    color: \"var(--bs-body-bg)\",\r\n                  }}\r\n                >\r\n                  Classe : {infoPerso.classe}\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    color: \"var(--bs-body-bg)\",\r\n                  }}\r\n                >\r\n                  {infoPerso.classe === \"Seconde\" ? \"\" : \"Vos options : \"}{\" \"}\r\n                  {infoPerso.option1}{\" \"}\r\n                  {infoPerso.classe === \"Seconde\" ? \"\" : \", \"}{\" \"}\r\n                  {infoPerso.option2}{\" \"}\r\n                  {infoPerso.classe === \"Premiere\" ? \", \" : \"\"}{\" \"}\r\n                  {infoPerso.option3}\r\n                </p>\r\n              </div>\r\n              <div\r\n                className=\"col-md-6\"\r\n                style={{\r\n                  border: \"1px solid var(--bs-body-bg)\",\r\n                }}\r\n              >\r\n                <p\r\n                  className=\"text-center\"\r\n                  style={{\r\n                    color: \"var(--bs-body-bg)\",\r\n                  }}\r\n                >\r\n                  <strong>\r\n                    <em>Informations publiques</em>\r\n                  </strong>\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    color: \"var(--bs-body-bg)\",\r\n                  }}\r\n                >\r\n                  Votre mail pourra être affiché lors de recherche d'aide\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    color: \"var(--bs-body-bg)\",\r\n                  }}\r\n                >\r\n                  Votre mail : {infoPerso.mail}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <a\r\n              className=\"btn btn-primary\"\r\n              role=\"button\"\r\n              style={{\r\n                marginTop: \"96px\",\r\n                background: \"var(--bs-light)\",\r\n                color: \"var(--bs-body-color)\",\r\n              }}\r\n              onClick={() => {\r\n                navigate(\"/private/account/modify\");\r\n              }}\r\n            >\r\n              Modifier\r\n            </a>\r\n          </div>\r\n        </section>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}