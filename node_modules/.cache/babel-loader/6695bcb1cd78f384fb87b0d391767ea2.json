{"ast":null,"code":"import _asyncToGenerator from\"D:/ForumProject/freyssupport/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/ForumProject/freyssupport/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\ForumProject\\\\freyssupport\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect}from\"react\";import{UserContext}from\"../../../context/UserContext\";import{useContext,useState}from\"react\";import{db}from\"../../../firebase-config\";import{doc,getDoc}from\"firebase/firestore\";import NavBar from\"../../../components/NavBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AccountHome(){var _useContext=useContext(UserContext),currentUser=_useContext.currentUser;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),infoPerso=_useState2[0],setInfoPerso=_useState2[1];var readResult=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var docRef,docSnap,_docRef,_docSnap,_docRef2,_docSnap2,_docRef3,_docSnap3;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:docRef=doc(db,\"users\",currentUser.email);_context.next=3;return getDoc(docRef);case 3:docSnap=_context.sent;if(!(docSnap.data().classe===\"Seconde\")){_context.next=12;break;}_docRef=doc(db,\"users\",currentUser.email);_context.next=8;return getDoc(_docRef);case 8:_docSnap=_context.sent;setInfoPerso({mail:_docSnap.data().mail,surName:_docSnap.data().surName,name:_docSnap.data().name,classe:_docSnap.data().classe});_context.next=26;break;case 12:if(!(docSnap.data().classe===\"Premiere\")){_context.next=20;break;}_docRef2=doc(db,\"users\",currentUser.email);_context.next=16;return getDoc(_docRef2);case 16:_docSnap2=_context.sent;setInfoPerso({mail:_docSnap2.data().mail,surName:_docSnap2.data().surName,name:_docSnap2.data().name,classe:_docSnap2.data().classe,option1:_docSnap2.data().option1,option2:_docSnap2.data().option2,option3:_docSnap2.data().option3});_context.next=26;break;case 20:if(!(docSnap.data().classe===\"Terminale\")){_context.next=26;break;}_docRef3=doc(db,\"users\",currentUser.email);_context.next=24;return getDoc(_docRef3);case 24:_docSnap3=_context.sent;setInfoPerso({mail:_docSnap3.data().mail,surName:_docSnap3.data().surName,name:_docSnap3.data().name,classe:_docSnap3.data().classe,option1:_docSnap3.data().option1,option2:_docSnap3.data().option2});case 26:case\"end\":return _context.stop();}}},_callee);}));return function readResult(){return _ref.apply(this,arguments);};}();useEffect(function(){readResult();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-light\",children:[\"Bonjour, \",infoPerso.surName,\" \",infoPerso.name]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-light\",children:[\"Vous \\xEAtes en classe de : \",infoPerso.classe]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-light\",children:infoPerso.classe===\"Seconde\"?\"\":\"Vos options :\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{listStyle:\"none\"},children:[/*#__PURE__*/_jsx(\"li\",{className:\"text-light\",children:/*#__PURE__*/_jsx(\"h3\",{children:infoPerso.option1})}),/*#__PURE__*/_jsx(\"li\",{className:\"text-light\",children:/*#__PURE__*/_jsx(\"h3\",{children:infoPerso.option2})}),/*#__PURE__*/_jsx(\"li\",{className:\"text-light\",children:/*#__PURE__*/_jsx(\"h3\",{children:infoPerso.option3})})]})]})]});}","map":{"version":3,"sources":["D:/ForumProject/freyssupport/src/pages/Private/AccountHome/AccountHome.js"],"names":["React","useEffect","UserContext","useContext","useState","db","doc","getDoc","NavBar","AccountHome","currentUser","infoPerso","setInfoPerso","readResult","docRef","email","docSnap","data","classe","mail","surName","name","option1","option2","option3","listStyle"],"mappings":"gWAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,8BAA5B,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,OAASC,EAAT,KAAmB,0BAAnB,CACA,OAASC,GAAT,CAAcC,MAAd,KAA4B,oBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,C,6IAEA,cAAe,SAASC,CAAAA,WAAT,EAAuB,CACpC,gBAAwBN,UAAU,CAACD,WAAD,CAAlC,CAAQQ,WAAR,aAAQA,WAAR,CACA,cAAgCN,QAAQ,CAAC,EAAD,CAAxC,wCAAKO,SAAL,eAAgBC,YAAhB,eAEA,GAAMC,CAAAA,UAAU,0FAAG,6MACXC,MADW,CACFR,GAAG,CAACD,EAAD,CAAK,OAAL,CAAcK,WAAW,CAACK,KAA1B,CADD,uBAEKR,CAAAA,MAAM,CAACO,MAAD,CAFX,QAEXE,OAFW,oBAIbA,OAAO,CAACC,IAAR,GAAeC,MAAf,GAA0B,SAJb,2BAKTJ,OALS,CAKAR,GAAG,CAACD,EAAD,CAAK,OAAL,CAAcK,WAAW,CAACK,KAA1B,CALH,uBAMOR,CAAAA,MAAM,CAACO,OAAD,CANb,QAMTE,QANS,eAOfJ,YAAY,CAAC,CACXO,IAAI,CAAEH,QAAO,CAACC,IAAR,GAAeE,IADV,CAEXC,OAAO,CAAEJ,QAAO,CAACC,IAAR,GAAeG,OAFb,CAGXC,IAAI,CAAEL,QAAO,CAACC,IAAR,GAAeI,IAHV,CAIXH,MAAM,CAAEF,QAAO,CAACC,IAAR,GAAeC,MAJZ,CAAD,CAAZ,CAPe,oCAaNF,OAAO,CAACC,IAAR,GAAeC,MAAf,GAA0B,UAbpB,2BAcTJ,QAdS,CAcAR,GAAG,CAACD,EAAD,CAAK,OAAL,CAAcK,WAAW,CAACK,KAA1B,CAdH,wBAeOR,CAAAA,MAAM,CAACO,QAAD,CAfb,SAeTE,SAfS,eAgBfJ,YAAY,CAAC,CACXO,IAAI,CAAEH,SAAO,CAACC,IAAR,GAAeE,IADV,CAEXC,OAAO,CAAEJ,SAAO,CAACC,IAAR,GAAeG,OAFb,CAGXC,IAAI,CAAEL,SAAO,CAACC,IAAR,GAAeI,IAHV,CAIXH,MAAM,CAAEF,SAAO,CAACC,IAAR,GAAeC,MAJZ,CAKXI,OAAO,CAAEN,SAAO,CAACC,IAAR,GAAeK,OALb,CAMXC,OAAO,CAAEP,SAAO,CAACC,IAAR,GAAeM,OANb,CAOXC,OAAO,CAAER,SAAO,CAACC,IAAR,GAAeO,OAPb,CAAD,CAAZ,CAhBe,oCAyBNR,OAAO,CAACC,IAAR,GAAeC,MAAf,GAA0B,WAzBpB,2BA0BTJ,QA1BS,CA0BAR,GAAG,CAACD,EAAD,CAAK,OAAL,CAAcK,WAAW,CAACK,KAA1B,CA1BH,wBA2BOR,CAAAA,MAAM,CAACO,QAAD,CA3Bb,SA2BTE,SA3BS,eA4BfJ,YAAY,CAAC,CACXO,IAAI,CAAEH,SAAO,CAACC,IAAR,GAAeE,IADV,CAEXC,OAAO,CAAEJ,SAAO,CAACC,IAAR,GAAeG,OAFb,CAGXC,IAAI,CAAEL,SAAO,CAACC,IAAR,GAAeI,IAHV,CAIXH,MAAM,CAAEF,SAAO,CAACC,IAAR,GAAeC,MAJZ,CAKXI,OAAO,CAAEN,SAAO,CAACC,IAAR,GAAeK,OALb,CAMXC,OAAO,CAAEP,SAAO,CAACC,IAAR,GAAeM,OANb,CAAD,CAAZ,CA5Be,uDAAH,kBAAVV,CAAAA,UAAU,0CAAhB,CAuCAZ,SAAS,CAAC,UAAM,CACdY,UAAU,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,wCACA,KAAC,MAAD,IADA,cAEE,YAAI,SAAS,CAAC,YAAd,uBACYF,SAAS,CAACS,OADtB,KACgCT,SAAS,CAACU,IAD1C,GAFF,cAKE,YAAI,SAAS,CAAC,YAAd,0CAC4BV,SAAS,CAACO,MADtC,GALF,cAQE,oCACE,WAAI,SAAS,CAAC,YAAd,UACGP,SAAS,CAACO,MAAV,GAAqB,SAArB,CAAiC,EAAjC,CAAsC,eADzC,EADF,cAIE,YACE,KAAK,CAAE,CACLO,SAAS,CAAE,MADN,CADT,wBAKE,WAAI,SAAS,CAAC,YAAd,uBACE,oBAAKd,SAAS,CAACW,OAAf,EADF,EALF,cAQE,WAAI,SAAS,CAAC,YAAd,uBACE,oBAAKX,SAAS,CAACY,OAAf,EADF,EARF,cAWE,WAAI,SAAS,CAAC,YAAd,uBACE,oBAAKZ,SAAS,CAACa,OAAf,EADF,EAXF,GAJF,GARF,GADF,CA+BD","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { UserContext } from \"../../../context/UserContext\";\r\nimport { useContext, useState } from \"react\";\r\nimport { db } from \"../../../firebase-config\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport NavBar from \"../../../components/NavBar\";\r\n\r\nexport default function AccountHome() {\r\n  const { currentUser } = useContext(UserContext);\r\n  let [infoPerso, setInfoPerso] = useState({});\r\n\r\n  const readResult = async () => {\r\n    const docRef = doc(db, \"users\", currentUser.email);\r\n    const docSnap = await getDoc(docRef);\r\n    //console.log(docSnap.data());\r\n    if (docSnap.data().classe === \"Seconde\") {\r\n      const docRef = doc(db, \"users\", currentUser.email);\r\n      const docSnap = await getDoc(docRef);\r\n      setInfoPerso({\r\n        mail: docSnap.data().mail,\r\n        surName: docSnap.data().surName,\r\n        name: docSnap.data().name,\r\n        classe: docSnap.data().classe,\r\n      });\r\n    } else if (docSnap.data().classe === \"Premiere\") {\r\n      const docRef = doc(db, \"users\", currentUser.email);\r\n      const docSnap = await getDoc(docRef);\r\n      setInfoPerso({\r\n        mail: docSnap.data().mail,\r\n        surName: docSnap.data().surName,\r\n        name: docSnap.data().name,\r\n        classe: docSnap.data().classe,\r\n        option1: docSnap.data().option1,\r\n        option2: docSnap.data().option2,\r\n        option3: docSnap.data().option3,\r\n      });\r\n    } else if (docSnap.data().classe === \"Terminale\") {\r\n      const docRef = doc(db, \"users\", currentUser.email);\r\n      const docSnap = await getDoc(docRef);\r\n      setInfoPerso({\r\n        mail: docSnap.data().mail,\r\n        surName: docSnap.data().surName,\r\n        name: docSnap.data().name,\r\n        classe: docSnap.data().classe,\r\n        option1: docSnap.data().option1,\r\n        option2: docSnap.data().option2,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    readResult();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n    <NavBar />\r\n      <h1 className=\"text-light\">\r\n        Bonjour, {infoPerso.surName} {infoPerso.name}\r\n      </h1>\r\n      <h2 className=\"text-light\">\r\n        Vous Ãªtes en classe de : {infoPerso.classe}\r\n      </h2>\r\n      <div>\r\n        <h2 className=\"text-light\">\r\n          {infoPerso.classe === \"Seconde\" ? \"\" : \"Vos options :\"}\r\n        </h2>\r\n        <ul\r\n          style={{\r\n            listStyle: \"none\",\r\n          }}\r\n        >\r\n          <li className=\"text-light\">\r\n            <h3>{infoPerso.option1}</h3>\r\n          </li>\r\n          <li className=\"text-light\">\r\n            <h3>{infoPerso.option2}</h3>\r\n          </li>\r\n          <li className=\"text-light\">\r\n            <h3>{infoPerso.option3}</h3>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}